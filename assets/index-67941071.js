import{f as m}from"./popupingredients-7a397146.js";import{P as D}from"./tui-pagination-18aa117a.js";import{N as y}from"./popupcocktails-5fcac6a0.js";const H="/Drinkify/assets/sprite-dbe788c8.svg",R="/Drinkify/assets/rafiki-b0fd8af4.jpg";function h({drinkThumb:t,drink:e,description:n,_id:o}){return`<li class="cardlist-item" data-id=${o}>
        <img src="${t}" class="cardlist-img" alt="${e}" onerror="this.onerror=null;this.src='${R}';" width=300>
        <h3 class="cardlist-drink">${e}</h3>
        <p class="cardlist-descr">${n}</p>
        <div class="cartlist-btns"><button class="cardlist-learn">learn more</button><button class="cardlist-fav"><svg
                class="cardlist-svg" weight="18" height="18">
                <use href="${H}#heart"></use>
            </svg></button></div>
        </li>`}const I="r",W="s",M="f",$="cocktails/",L="cocktails/search/",C=document.querySelector(".no-cocktails-wrapper"),a=document.querySelector(".cardlist"),v=document.querySelector(".pagination-main"),E=document.querySelector("#search-form"),c=document.querySelector(".cardlist-header"),x=document.querySelector("#cocktails-section");let w=1,i=8;screen.width>=1280&&(i=9);let r;c.textContent="Loading Data...";F();function F(){let t=8;screen.width>=1280&&(t=9),m($,I,t).then(e=>{const n=e.map(o=>h(o)).join("");a.innerHTML=n,c.textContent="Cocktails"}).catch(e=>{y.Notify.failure("Server error"),console.log(e)})}E.addEventListener("submit",t=>{t.preventDefault(),b(),x.scrollIntoView();const{searchQuery:e}=t.currentTarget.elements;if(!e.value.trim()){y.Notify.failure("Please, fill in the search");return}S(e.value,L,W)});function b(){C.classList.add("visually-hidden"),w=1,a.innerHTML="",v.innerHTML=""}async function S(t,e,n){c.textContent="Loading Data...";try{r=await m(e,n,t),r.length<=i?a.innerHTML=r.map(o=>h(o)).join(""):(q(r,a,i,w),O(r,v,i)),c.textContent="Searching results",E.reset()}catch(o){c.textContent="",y.Notify.failure("No results found, please try another name"),console.log(o),C.classList.remove("visually-hidden")}}function q(t,e,n,o){e.innerHTML="",o--;let l=n*o,p=l+n,f=t.slice(l,p);e.innerHTML=f.map(B=>h(B)).join("")}function O(t,e,n){e.innerHTML="";const o={totalItems:t.length,itemsPerPage:n,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn btnStyle">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected btnStyleActive">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}} btnStyle"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}} btnStyle"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new D(v,o).on("beforeMove",p=>{const{page:f}=p;q(r,a,i,f)})}const A=document.querySelector(".keyboard"),U=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",1,2,3,4,5,6,7,8,9,0];function j(t){return t.map(e=>`<button type='button' class='leter-btn'>${e}</button>`).join("")}A.insertAdjacentHTML("afterbegin",j(U));A.addEventListener("click",t=>{t.target.nodeName==="BUTTON"&&(b(),S(t.target.textContent,L,M))});const g=document.querySelector(".open-alphabet-btn"),u=document.querySelector(".alphabet-list"),d=document.querySelector(".list-container"),K=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",1,2,3,4,5,6,7,8,9,0];function X(t){return t.map(e=>`<li class='letter-item'><a href='#' class='letter-link'>${e}</a></li>`).join("")}function _(){const t=document.querySelector(".svg-icon-down"),e=document.querySelector(".svg-icon-up");d.classList.contains("display")===!0?(d.classList.remove("display"),t.classList.add("display"),e.classList.remove("display"),u.insertAdjacentHTML("afterbegin",X(K))):(d.classList.add("display"),t.classList.remove("display"),e.classList.add("display"),u.innerHTML="")}g.addEventListener("click",()=>{_()});u.addEventListener("click",t=>{t.preventDefault();const e=t.target.textContent;g.innerHTML=`<p class="btn-letter">${e}</p>
  <svg class="svg-icon-down">
      <use href="./img/sprite.svg#chevron-down"></use>
    </svg>
    <svg class="svg-icon-up display">
      <use href="./img/sprite.svg#chevron-up"></use>
    </svg>`,d.classList.add("display"),g.style.background="#9CDFDF",u.innerHTML="",b(),S(t.target.textContent,L,M)});function V(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",function(){const t=document.getElementById("scrollUpButton");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"});document.getElementById("scrollUpButton").addEventListener("click",V);const s=document.querySelector(".carousel-cr-by"),G=document.querySelector(".cr-by-arrow-left"),J=document.querySelector(".cr-by-arrow-right"),Q=s.querySelector(".cr-by-card").offSetWidth;[...s.children];let k=!1,N,P;Math.round(s.offSetWidth/Q);const Y=()=>{s.scrollLeft-=247},Z=()=>{s.scrollLeft+=247},z=t=>{k=!0,s.classList.add("dragging"),N=t.pageX,P=s.scrollLeft},tt=t=>{k&&(s.scrollLeft=P-(t.pageX-N))},et=()=>{k=!1,s.classList.remove("dragging")},st=()=>{s.scrollLeft===0?(console.log("left side reached"),s.classList.add("no-transition-cr-by"),s.scrollLeft=s.scrolllWidth-2*s.offSetWidth,s.classList.remove("no-transition-cr-by")):Math.ceil(s.scrollLeft)===s.scrollWidth-s.offSetWidth&&(console.log("right side reached"),s.classList.add("no-transition-cr-by"),s.scrollLeft=s.offSetWidth,s.classList.remove("no-transition-cr-by"))};s.addEventListener("mousedown",z);s.addEventListener("mousemove",tt);document.addEventListener("mouseup",et);s.addEventListener("scroll",st);G.addEventListener("click",Y);J.addEventListener("click",Z);const nt=document.querySelector(".btn-hero-scroll");nt.addEventListener("click",function(t){t.preventDefault();const n=document.querySelector("#cocktails-section").offsetTop;window.scrollTo({top:n,behavior:"smooth"})});const ot=document.querySelector(".cardlist"),T=[],rt="favorite";ot.addEventListener("click",ct);function ct(t){if(t.target.classList.contains(".cardlist-fav")){const e=it(t.target);T.push(e),localStorage.setItem(rt,JSON.stringify(T))}}function it(t){const e=Number(t.closest(".cardlist-item").dataset.id);return m.find(({id:n})=>n===e)}
